{"ast":null,"code":"var _jsxFileName = \"/Users/huangdynasty/Desktop/toptop/frontend/src/pages/Results.jsx\";\nimport React, { Component } from \"react\";\nimport Arrow from \"../components/Arrow\";\nimport Result from \"../components/Result\";\nimport Socket from \"../utils/Socket\";\nimport \"../css/common.css\";\nimport \"../css/results.css\";\n/**\n * The Results page will populate with all the results that were received after\n * completing the Carousel items. This will call our backend endpoint.\n */\n\nclass Results extends Component {\n  /**\n   * Constructs the Result PAge\n   * @param {*} props\n   */\n  constructor(props) {\n    super(props); // Get the payload passed into the props\n\n    this.goToHome = () => {\n      this.props.history.push(\"/\");\n    };\n\n    this.payload = this.props.history.location.state;\n    this.state = {\n      results: []\n    };\n  }\n  /**\n   * Sends the user back to the Home page.\n   */\n\n\n  async componentDidMount() {\n    // Make a call to the backend, and get data.\n    try {\n      let response = await Socket.POST(this.payload);\n      console.log(\"SUCCESS\");\n      console.log(response);\n      const results = response.products;\n      this.setState(state => {\n        return {\n          results: results\n        };\n      });\n    } catch (e) {\n      console.log(\"ERROR\");\n      console.log(e);\n    }\n  }\n  /**\n   * Renders the results received from the call.\n   */\n\n\n  render() {\n    // Get the results\n    const results = this.state.results; // Render the results\n\n    return React.createElement(\"div\", {\n      className: \"results\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"results-header clearfix\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(Arrow, {\n      direction: \"left\",\n      clickFunction: this.goToHome,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }), React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, \"Results\")), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, results.map((value, index) => React.createElement(Result, {\n      key: index,\n      value: value,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default Results;","map":{"version":3,"sources":["/Users/huangdynasty/Desktop/toptop/frontend/src/pages/Results.jsx"],"names":["React","Component","Arrow","Result","Socket","Results","constructor","props","goToHome","history","push","payload","location","state","results","componentDidMount","response","POST","console","log","products","setState","e","render","map","value","index"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AAEA,OAAOC,MAAP,MAAmB,iBAAnB;AAEA,OAAO,mBAAP;AACA,OAAO,oBAAP;AAEA;;;;;AAIA,MAAMC,OAAN,SAAsBJ,SAAtB,CAAgC;AAC9B;;;;AAIAK,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN,EADiB,CAGjB;;AAHiB,SAcnBC,QAdmB,GAcR,MAAM;AACf,WAAKD,KAAL,CAAWE,OAAX,CAAmBC,IAAnB,CAAwB,GAAxB;AACD,KAhBkB;;AAIjB,SAAKC,OAAL,GAAe,KAAKJ,KAAL,CAAWE,OAAX,CAAmBG,QAAnB,CAA4BC,KAA3C;AAEA,SAAKA,KAAL,GAAa;AACXC,MAAAA,OAAO,EAAE;AADE,KAAb;AAGD;AAED;;;;;AAOA,QAAMC,iBAAN,GAA0B;AACxB;AACA,QAAI;AACF,UAAIC,QAAQ,GAAG,MAAMZ,MAAM,CAACa,IAAP,CAAY,KAAKN,OAAjB,CAArB;AACAO,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYH,QAAZ;AAEA,YAAMF,OAAO,GAAGE,QAAQ,CAACI,QAAzB;AACA,WAAKC,QAAL,CAAcR,KAAK,IAAI;AACrB,eAAO;AAAEC,UAAAA,OAAO,EAAEA;AAAX,SAAP;AACD,OAFD;AAGD,KATD,CASE,OAAOQ,CAAP,EAAU;AACVJ,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYG,CAAZ;AACD;AACF;AAED;;;;;AAGAC,EAAAA,MAAM,GAAG;AACP;AACA,UAAMT,OAAO,GAAG,KAAKD,KAAL,CAAWC,OAA3B,CAFO,CAIP;;AACA,WACE;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AAAO,MAAA,SAAS,EAAC,MAAjB;AAAwB,MAAA,aAAa,EAAE,KAAKN,QAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFF,CADJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACGM,OAAO,CAACU,GAAR,CAAY,CAACC,KAAD,EAAQC,KAAR,KACX,oBAAC,MAAD;AAAQ,MAAA,GAAG,EAAEA,KAAb;AAAoB,MAAA,KAAK,EAAED,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,CADH,CALJ,CADF;AAaD;;AA7D6B;;AAgEhC,eAAepB,OAAf","sourcesContent":["import React, { Component } from \"react\";\n\nimport Arrow from \"../components/Arrow\";\nimport Result from \"../components/Result\";\n\nimport Socket from \"../utils/Socket\";\n\nimport \"../css/common.css\";\nimport \"../css/results.css\";\n\n/**\n * The Results page will populate with all the results that were received after\n * completing the Carousel items. This will call our backend endpoint.\n */\nclass Results extends Component {\n  /**\n   * Constructs the Result PAge\n   * @param {*} props\n   */\n  constructor(props) {\n    super(props);\n\n    // Get the payload passed into the props\n    this.payload = this.props.history.location.state;\n\n    this.state = {\n      results: []\n    };\n  }\n\n  /**\n   * Sends the user back to the Home page.\n   */\n  goToHome = () => {\n    this.props.history.push(\"/\");\n  };\n\n  async componentDidMount() {\n    // Make a call to the backend, and get data.\n    try {\n      let response = await Socket.POST(this.payload);\n      console.log(\"SUCCESS\");\n      console.log(response);\n\n      const results = response.products;\n      this.setState(state => {\n        return { results: results };\n      });\n    } catch (e) {\n      console.log(\"ERROR\");\n      console.log(e);\n    }\n  }\n\n  /**\n   * Renders the results received from the call.\n   */\n  render() {\n    // Get the results\n    const results = this.state.results;\n\n    // Render the results\n    return (\n      <div className=\"results\">\n          <div className=\"results-header clearfix\">\n            <Arrow direction=\"left\" clickFunction={this.goToHome} />\n            <h1>Results</h1>\n          </div>\n          <ul>\n            {results.map((value, index) => (\n              <Result key={index} value={value}/>\n            ))}\n          </ul>\n      </div>\n    );\n  }\n}\n\nexport default Results;\n"]},"metadata":{},"sourceType":"module"}